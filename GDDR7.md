# Feature
| Feature | GDDR7 | GDDR6 |
|:---:|:---:|:---:|
|Channel |4 per Device<br>configurable | 2 per Device |
|Bank| 16 per Channel|16 per Channel|
|Data Bus| 1byte per Channel| 2 byte per Channel|
|Prefetch Size| 32n|16n|
|burst Length| <mark>48</mark> or 32|16|
|data signaling| PAM3 and NRZ | NRZ |
|RDQS|RCK|NO|
|CABI| Yes <br> No Specified Pin|Yes <br> Specified Pin|
|CA Parity|Yes  <br> No Specified Pin|No|
|R/W CRC|Yes|Yes|
|Self-Refresh|Self-Refresh<br>Sleep<br>Self-Refresh Sleep<br>Hibernate Self-Refresh Sleep|Self-Refresh<br>Hibernate Self-Refresh<br>Hibernate Self-Refresh with VDDQ Off|
|Temperature Controlled Self-Refresh Rate| Yes|Yes|
|Partial Array Self-Refresh| No | Yes|
|DFS|Yes|Yes|
|DVS|Yes|No|
|<mark>CSP</mark>|Yes|No|
|On-die ECC| Yes | No|
|RFM| RFM<br>ARFM<br>Directed RFM| RFM|
|PPR|Yes|No|
|ODT| Yes|Yes|
|VREF DQ| No dedicated Pin, MRS Controlled %VDDQ|No dedicated Pin, MRS Controlled %VDDQ|
|VREF CA| No dedicated Pin, MRS Controlled %VDDQ| External VREFC pin|
|VDD|1.2V|1.2V or 1.35V|
|VDDQ|1.2V|1.2V or 1.35V|
|VPP (power for row select bus)|1.8V|1.8V|
|WCK| for CA and DQ| only for DQ|
|CK | DRAN internal generated by div | external input |
|CK : WCK | 1:4 | 1:2|
|Command| Row and Column Command semi-independent <br> row and column command could be issued at the same time| dependent |
| Data Scramble | Yes | No|

# Clock
WCK is divided by 4 in DRAM to generate internal DRAM CK for AC timings unit.  
CA is latched by WCK rising edge, naming single data rate.

# Addressing
每个GDDR7 device最小组织结构是channel，成为原生channel，每个device包含4个原生channel，这四个原生channel可以配置成2个channel。  
原生channel有5种规格：4Gb/6Gb/8Gb/12Gb/16Gb，因此有5种device density：16Gb/24Gb/32Gb/48Gb/64Gb

# CABI and CAPAR
If CABI or CAPAR is disabled, it's recommended to be tied to HIGH.

# PAM3
## Pin Resource
每根DQ pin在每个clock沿传输一个symbol，每个symbol有3种电气状态。
DQ[9:0]和DQE，一共11根pin，burst 16次，一共传输176个symbol。
## Data Requirement
需要传输的payload为256bits data + 18bits CRC + 1bit severity + 1bit position = 276bits

## 编码方式
### 11b7s
用7个symbol resource表示11bits需传输的payload。  
11bits有2^11 = 2048种可能性，7 symbol可表示3^7 = 2187种可能性。
### 3b2s
用2个symbol resource表示3bits需传输的payload。  
3bits有2^3 = 8种可能性，2 symbol可表示3^2 = 9种可能性。
### 2b1s
用1个symbol resource表示2bits需传输的payload。  
2bits有2^2 = 4种可能性，1 symbol可表示3^1 = 3种可能性。不够

## 分配
256bits data按照11bits进行分组，共分为23组，多余3bits。则23组使用11b7s方式编码，多余的3bits使用3b2s方式编码，一共占用23*7 + 2 = 163个symbol资源  
18bits crc按照3bits进行分组，供分为6组。则使用6组3b2s方式编码，一共占用6 *2 = 12个symbol资源  
SEV和PSN使用1组2s1b方式编码，占用1个symbol资源  
一共占用163 + 12 + 1 = 176个symbol资源

# Write
write不传输severity信息，DRAM检测到crc error时通过DERR pin通知DDRC

# Read
SEV和PSN本来有4种状态，但是对于read，当SEV为1时，PSN为dont care，所以二者一共有3种有效状态，用1个symbol可以表示
